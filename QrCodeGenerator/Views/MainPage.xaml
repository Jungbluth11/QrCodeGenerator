<Page
    x:Class="QrCodeGenerator.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:gb="clr-namespace:UnoGroupBox;assembly=UnoGroupBox"
    xmlns:models="clr-namespace:QrCodeGenerator.Models"
    xmlns:viewModel="clr-namespace:QrCodeGenerator.ViewModels"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    Loaded="MainPage_OnLoaded">
    <Page.DataContext>
        <viewModel:MainPageViewModel />
    </Page.DataContext>
    <Page.Resources>
        <models:MenuItemTemplateSelector x:Key="selector">
            <models:MenuItemTemplateSelector.ItemTemplate>
                <DataTemplate x:DataType="models:NavigationViewMenuItem">
                    <NavigationViewItem Content="{Binding Name}" Tag="{Binding GeneratorPage}">
                        <NavigationViewItem.Icon>
                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="{Binding Glyph}" />
                        </NavigationViewItem.Icon>
                    </NavigationViewItem>
                </DataTemplate>
            </models:MenuItemTemplateSelector.ItemTemplate>
        </models:MenuItemTemplateSelector>
    </Page.Resources>
    <ScrollViewer IsTabStop="True">
        <NavigationView
            x:Name="NavigationView"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="True"
            MenuItemTemplateSelector="{StaticResource selector}"
            MenuItemsSource="{Binding MenuItems, Mode=OneWay}"
            OpenPaneLength="220"
            SelectionChanged="NavigationView_OnSelectionChanged">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" MinHeight="200" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <CommandBar
                    x:Name="CommandBar"
                    Grid.Row="0"
                    Grid.Column="0"
                    HorizontalAlignment="Left"
                    DefaultLabelPosition="Right">
                    <AppBarButton
                        x:Uid="MenuSave"
                        Click="BtnSave_OnClick"
                        Icon="Save" />
                    <AppBarButton
                        x:Uid="MenuPrint"
                        Click="BtnPrint_OnClick"
                        Icon="Print" />
                </CommandBar>
                <Frame
                    x:Name="ContentFrame"
                    Grid.Row="1"
                    Grid.Column="0"
                    MinHeight="{Binding QrCodeImageHeight}" />
                <Image
                    x:Name="QrCodeImage"
                    Grid.Row="0"
                    Grid.RowSpan="2"
                    Grid.Column="1"
                    Width="{Binding QrCodeImageWidth}"
                    Height="{Binding QrCodeImageHeight}"
                    Margin="10"
                    VerticalAlignment="Top"
                    Source="{Binding QrCodeImage, Mode=OneWay}" />
                <StackPanel
                    Grid.Row="2"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    Orientation="Horizontal">
                    <gb:GroupBox
                        x:Name="QrCodeOptions"
                        x:Uid="QrCodeOptions"
                        Background="{ThemeResource NavigationViewBackground}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                x:Uid="Mode"
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <ComboBox
                                Grid.Row="0"
                                Grid.Column="1"
                                Margin="5"
                                ItemsSource="{Binding GenerateModeStrings}"
                                SelectedValue="{Binding CurrentGenerateMode, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <TextBlock
                                x:Uid="DesiredSize"
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <NumberBox
                                Grid.Row="1"
                                Grid.Column="1"
                                Width="65"
                                Margin="5"
                                HorizontalAlignment="Left"
                                IsEnabled="{Binding IsDesiredSizeEnabled}"
                                KeyDown="UIElement_OnKeyDown"
                                SpinButtonPlacementMode="Compact"
                                Value="{Binding DesiredSize, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <TextBlock
                                x:Uid="ActualSize"
                                Grid.Row="2"
                                Grid.Column="0"
                                Margin="5" />
                            <TextBox
                                Grid.Row="2"
                                Grid.Column="1"
                                Width="65"
                                Margin="5"
                                HorizontalAlignment="Left"
                                IsEnabled="{Binding IsDesiredSizeEnabled}"
                                IsReadOnly="True"
                                Text="{Binding ActualSize}" />
                            <TextBlock
                                x:Uid="ModuleSize"
                                Grid.Row="3"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <NumberBox
                                Grid.Row="3"
                                Grid.Column="1"
                                Width="65"
                                Margin="5"
                                HorizontalAlignment="Left"
                                IsEnabled="{Binding IsModuleSizeEnabled}"
                                KeyDown="UIElement_OnKeyDown"
                                SpinButtonPlacementMode="Compact"
                                Value="{Binding ModuleSize, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <TextBlock
                                x:Uid="ErrorCorrection"
                                Grid.Row="4"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <ComboBox
                                Grid.Row="4"
                                Grid.Column="1"
                                Margin="5"
                                ItemsSource="{Binding EccLevelStrings}"
                                SelectedValue="{Binding CurrentEccLevel, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <TextBlock
                                x:Uid="Encoding"
                                Grid.Row="5"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <ComboBox
                                Grid.Row="5"
                                Grid.Column="1"
                                Margin="5"
                                ItemsSource="{Binding EciModeStrings}"
                                SelectedValue="{Binding CurrentEciMode, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <gb:GroupBox
                                x:Uid="UseUtf8Bom"
                                Grid.Row="6"
                                Grid.Column="0"
                                Grid.ColumnSpan="2"
                                Margin="5"
                                Background="{ThemeResource NavigationViewBackground}"
                                IsEnabled="{Binding IsUseUtf8BomEnabled}">
                                <StackPanel Orientation="Horizontal">
                                    <RadioButton x:Uid="RadioButtonYes" IsChecked="{Binding UseUtf8Bom, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                                    <RadioButton x:Uid="RadioButtonNo" IsChecked="True" />
                                </StackPanel>
                            </gb:GroupBox>
                        </Grid>
                    </gb:GroupBox>
                    <gb:GroupBox
                        x:Name="AppearanceOptions"
                        x:Uid="AppearanceOptions"
                        Background="{ThemeResource NavigationViewBackground}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                x:Uid="ForegroundColor"
                                Grid.Row="0"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <Rectangle
                                Grid.Row="0"
                                Grid.Column="1"
                                Width="50"
                                Height="25"
                                Margin="5"
                                Fill="{Binding ForegroundColor}" />
                            <Button
                                x:Uid="BtnSelectColor"
                                Grid.Row="0"
                                Grid.Column="2"
                                Margin="5"
                                Click="BtnSelectForegroundColor_OnClick" />
                            <TextBlock
                                x:Uid="BackgroundColor"
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <Rectangle
                                Grid.Row="1"
                                Grid.Column="1"
                                Width="50"
                                Height="25"
                                Margin="5"
                                Fill="{Binding BackgroundColor}" />
                            <Button
                                x:Uid="BtnSelectColor"
                                Grid.Row="1"
                                Grid.Column="2"
                                Margin="5"
                                Click="BtnSelectBackgroundColor_OnClick" />
                            <TextBlock
                                x:Uid="Logo"
                                Grid.Row="2"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Bottom" />
                            <Image
                                Grid.Row="2"
                                Grid.Column="1"
                                Width="50"
                                Height="50"
                                Margin="5"
                                Source="{Binding QrCodeLogoPath}" />
                            <Button
                                x:Uid="BtnSelectLogo"
                                Grid.Row="2"
                                Grid.Column="2"
                                Margin="5"
                                VerticalAlignment="Bottom"
                                Click="BtnSelectLogo_OnClick" />
                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="0"
                                Grid.ColumnSpan="3"
                                Margin="5"
                                Text="{Binding QrCodeLogoPath}" />
                            <TextBlock
                                x:Uid="DrawQuietZones"
                                Grid.Row="4"
                                Grid.Column="0"
                                Margin="5"
                                VerticalAlignment="Center" />
                            <RadioButton
                                x:Uid="RadioButtonYes"
                                Grid.Row="4"
                                Grid.Column="1"
                                Margin="5"
                                IsChecked="{Binding DrawQuietZones, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" />
                            <RadioButton
                                x:Uid="RadioButtonNo"
                                Grid.Row="4"
                                Grid.Column="2"
                                Margin="5" />
                        </Grid>
                    </gb:GroupBox>
                </StackPanel>
            </Grid>
        </NavigationView>
    </ScrollViewer>
</Page>
